(function(e){function t(t,a){var f,l,s;if((f=e(t))[n]==0)return r;l=f[i]()[o];switch(a.anchor){case"middle":s=l-(e(window).height()-f.outerHeight())/2;break;default:case o:s=Math.max(l,0)}return typeof a[i]=="function"?s-=a[i]():s-=a[i],s}var n="length",r=null,o="top",i="offset",a="click.scrolly",f=e(window);e.fn.scrolly=function(i){var f,l,s,c,h=e(this);if(this[n]==0)return h;if(this[n]>1){for(f=0;f<this[n];f++){e(this[f]).scrolly(i)}return h}c=r,s=h.attr("href");if(s.charAt(0)!="#"||s[n]<2)return h;l=jQuery.extend({anchor:o,easing:"swing",offset:0,parent:e("body,html"),pollOnce:!1,speed:1e3},i),l.pollOnce&&(c=t(s,l)),h.off(a).on(a,function(e){var n=c!==r?c:t(s,l);n!==r&&(e.preventDefault(),l.parent.stop().animate({scrollTop:n},l.speed,l.easing))})}})(jQuery);